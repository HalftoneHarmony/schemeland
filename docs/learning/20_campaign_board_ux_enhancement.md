# 📒 Learning Note 20: 캠페인 상세 보드 UX 강화 (클릭 상태 변경 & 드래그 앤 드롭)

바이브코딩 독학자를 위한 응애아기 레벨 가이드입니다. 👶✨

## 1. 🖱️ 클릭 한 번으로 미션 완료! (카드 클릭 로직)

기존에는 아주 작은 `>` 모양 버튼을 정확히 눌러야 미션 상태가 바뀌어서 불편했죠? 이제는 **카드 어디든 클릭만 하면** 상태가 뱅글뱅글 돌아가도록 바꿨습니다.

### 💡 핵심 원리: "사용자 경험(UX) 우선순위"
개발을 할 때 컴퓨터가 편한 방식(작은 버튼에만 기능 넣기)보다 **사람이 편한 방식**(큰 영역 클릭하기)을 선택하는 것이 중요합니다.

- **AS-IS**: 작은 버튼에 `onClick` (클릭 이벤트) 할당.
- **TO-BE**: 카드 전체(`div`)에 `onClick` 할당.
- **바이브 팁**: 클릭했을 때 글씨를 수정하는 중인지(`editingTaskId`) 확인해서, 수정 중일 때는 상태가 바뀌지 않도록 방어하는 센스!

---

## 2. 🏗️ "이 일은 다음 주에..." (주차 간 태스크 이동)

미션을 1주차에서 2주차로, 혹은 4주차로 옮기고 싶을 때 있죠? 이제 **드래그 앤 드롭(Drag & Drop)**으로 쓱 옮길 수 있습니다.

### 💡 핵심 원리: "HTML5 Native 드래그"
도구 없이도 웹 브라우저가 기본으로 제공하는 기능을 사용했습니다.

1.  **잡기 (`onDragStart`)**: "나 이 미션(ID) 잡았어! 지금은 {N}주차야!" 라고 브라우저한테 알려줍니다.
2.  **지나가기 (`onDragOver`)**: "어, 다른 주차 위를 지나가고 있네? 여기다 놓을 수 있어!" (파란색 테두리 힌트)
3.  **놓기 (`onDrop`)**: "여기다 놓을게! 금고 관리자(`Store`)야, 이 미션 번호를 새로운 주차로 옮겨줘!"

---

## 3. 🧠 금고 관리자(Store)의 새로운 필살기

화면에서 드래그를 해도 실제 데이터가 안 바뀌면 소용없겠죠? 그래서 **중앙 금고(`store/index.ts`)**에 새로운 명령어를 추가했습니다.

### `moveTask` 액션
이 함수는 다음과 같은 일을 한꺼번에 처리합니다:
1.  **A주차**에서 미션 번호를 뺌. (`filter` 사용)
2.  **B주차**에 미션 번호를 넣음. (`spread` 연산자 `[...]` 사용)
3.  **미션 자체**에도 "너 이제 {M}주차 소속이야!" 라고 명찰(Metadata)을 바꿔줌.

---

## 🎨 바이브코딩 독학 노하우 (Vibe Check)

> "화면은 그저 그릴 뿐, 진정한 힘은 **스토어(Store)**에서 나온다."

화면(`View`)에서 복잡한 계산을 하려고 하지 마세요. 화면은 "사용자가 카드를 옮겼어!"라고 **신호만 보내고**, 실제 데이터 처리는 **금고 관리자(Store)**가 깔끔하게 처리하게 두는 것이 코드를 예쁘게 유지하는 비결입니다.

### 🐣 오늘의 응애 단어
- **Zustand**: 우리 앱의 "중앙 금고". 모든 중요 정보를 여기서 관리함.
- **Event Propagation**: 카드 안의 삭제 버튼을 눌렀는데 카드가 클릭되는 현상. 이를 막기 위해 `e.stopPropagation()`을 써서 "여기서 멈춰!"라고 명령함.
- **Metadata**: 미션 내용 외에 '몇 주차인지', '누구 소속인지' 같은 보이지 않는 부가 정보.
